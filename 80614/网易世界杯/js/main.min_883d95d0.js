var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__awaiter=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,s){function r(e){try{c(o.next(e))}catch(t){s(t)}}function a(e){try{c(o["throw"](e))}catch(t){s(t)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,a)}c((o=o.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,s&&(r=s[2&n[0]?"return":n[0]?"throw":"next"])&&!(r=r.call(s,n[1])).done)return r;switch(s=0,r&&(n=[0,r.value]),n[0]){case 0:case 1:r=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,s=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(r=c.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){c.label=n[1];break}if(6===n[0]&&c.label<r[1]){c.label=r[1],r=n;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(n);break}r[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(o){n=[6,o],s=0}finally{i=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,s,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},Component=function(e){function t(){var t=e.call(this)||this;return t.percentWidth=t.percentHeight=100,t.setDefaultSkinName(),t}return __extends(t,e),t.prototype.setDefaultSkinName=function(){var e=egret.getQualifiedClassName(this);"Component"!==e&&(this.skinName="resource/skins/"+e.replace(".","/")+"Skin.exml")},t}(eui.Component);__reflect(Component.prototype,"Component");var common;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.visible=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.fadeOut,this)},t.prototype.show=function(){var e=this;window.NewsappShare?window.NewsappShare.show(function(){e.fadeIn(),setTimeout(function(){e.fadeOut()},2e3)}):(this.fadeIn(),setTimeout(function(){e.fadeOut()},2e3))},t.prototype.fadeIn=function(){this.visible=!0,this.alpha=0,egret.Tween.get(this,null,null,!0).to({alpha:1},300,egret.Ease.sineInOut)},t.prototype.fadeOut=function(){var e=this;egret.Tween.get(this,null,null,!0).to({alpha:0},300,egret.Ease.sineInOut).call(function(){e.visible=!1})},t}(Component);e.Share=t,__reflect(t.prototype,"common.Share")}(common||(common={})),window.common.Share=common.Share;var app;!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.createChildren=function(){var n=this;t.prototype.createChildren.call(this),this.other.addEventListener(egret.Event.COMPLETE,function(){var e=new common.DragonBones;e.name="main",e.armatureName="music",e.horizontalCenter=0,e.verticalCenter=-40},this),this.preload.addEventListener(egret.Event.COMPLETE,function(){n.$router.replace(e.Home)},this)},n}(Component);e.Loading=t,__reflect(t.prototype,"app.Loading")}(app||(app={}));var common;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.src=null,t.autoplay=!1,t.control=!1,t.delayStop=0,t.isWeixin=/micromessenger/gi.test(navigator.userAgent),t.isMiniGame=/MiniGame/gi.test(navigator.userAgent),t.isWeixinHandled=!1,t}return __extends(t,e),t.prototype.createChildren=function(){var n=this;e.prototype.createChildren.call(this),this.control&&(this.currentState=t.muted?"off":"on",this.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.muted=!t.muted,t.muted?(n.stop(),n.currentState="off"):(n.play(),n.currentState="on")},this)),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,function(){setTimeout(function(){n.stop()},n.delayStop)},this),this.sound=RES.getRes(this.src),this.autoplay&&this.play()},t.prototype.play=function(e,n){var o=this;t.muted||this.sound&&(this.isWeixin&&!this.isMiniGame?this.weixinHandler(function(){o.soundChannel=o.sound.play(e,n)}):this.soundChannel=this.sound.play(e,n))},t.prototype.stop=function(){this.soundChannel&&(this.soundChannel.stop(),this.soundChannel=null)},t.prototype.loadScript=function(e,t){var n=this,o=document.createElement("script");o.src=e,o.onload=function(){t&&t.call(n),o.parentNode.removeChild(o)};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i)},t.prototype.weixinHandler=function(e){var t=this;if(this.isWeixinHandled)e.call(this);else{var n=function(){window.wx.config({jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),window.wx.ready(function(){t.isWeixinHandled=!0,e.call(t)})};window.wx?n():this.loadScript("//res.wx.qq.com/open/js/jweixin-1.3.0.js",n)}},t.muted=!1,t}(eui.Component);e.Audio=t,__reflect(t.prototype,"common.Audio")}(common||(common={})),window.common.Audio=common.Audio;var common;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="",t.armatureName="",t.animationName="",t.autoPlay=!0,t.texCount=1,t.factory=dragonBones.EgretFactory.factory,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.parseData(),this.createDisplay()},t.prototype.parseData=function(){if(!this.factory.getDragonBonesData(this.name)){var e=RES.getRes(this.name+"_ske_json");if(this.factory.parseDragonBonesData(e,this.name),this.texCount>1)for(var t=0;t<this.texCount;t++){var n=RES.getRes(this.name+"_tex_"+t+"_json"),o=RES.getRes(this.name+"_tex_"+t+"_png");this.factory.parseTextureAtlasData(n,o,this.name)}else{var n=RES.getRes(this.name+"_tex_json"),o=RES.getRes(this.name+"_tex_png");this.factory.parseTextureAtlasData(n,o,this.name)}}},t.prototype.createDisplay=function(){var e=this;this.display=this.factory.buildArmatureDisplay(this.armatureName,this.name),this.display.addEventListener(dragonBones.EventObject.START,function(){e.dispatchEventWith(dragonBones.EventObject.START)},this),this.display.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,function(){e.dispatchEventWith(dragonBones.EventObject.LOOP_COMPLETE)},this),this.display.addEventListener(dragonBones.EventObject.COMPLETE,function(){e.dispatchEventWith(dragonBones.EventObject.COMPLETE)},this),this.addChild(this.display),this.autoPlay&&this.display.animation.play(this.animationName)},t.prototype.play=function(e){this.display&&this.display.animation.play(e||this.animationName)},t.prototype.setProgress=function(e){this.display&&this.display.animation.gotoAndStopByProgress(this.animationName,e)},t}(eui.Component);e.DragonBones=t,__reflect(t.prototype,"common.DragonBones")}(common||(common={})),window.common.DragonBones=common.DragonBones;var common;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groupName="preload",t.priority=0,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),-1!=this.groupName.indexOf("-")&&this.createGroup(this.groupName),this.start()},t.prototype.createGroup=function(e){var t=[],n=e.split("-");n.forEach(function(e){var n=RES.getGroupByName(e);n.forEach(function(e){t.push(e.name)})}),RES.createGroup(e,t,!0)},t.prototype.start=function(){this.currentState="loading",RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onProgress,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onError,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onComplete,this),RES.loadGroup(this.groupName,this.priority)},t.prototype.onProgress=function(e){if(e.groupName==this.groupName){var t=Math.floor(e.itemsLoaded/e.itemsTotal*100);this.progress&&(this.progress.text=t+"%"),this.dispatchEventWith(egret.ProgressEvent.PROGRESS,!1,t)}},t.prototype.onError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onComplete(e)},t.prototype.onComplete=function(e){e.groupName==this.groupName&&this.end()},t.prototype.end=function(){this.currentState="loaded",RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onProgress,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onComplete,this),this.dispatchEventWith(egret.Event.COMPLETE)},t}(eui.Component);e.Preload=t,__reflect(t.prototype,"common.Preload")}(common||(common={})),window.common.Preload=common.Preload;var app;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audioBgmStart=2500,t.audioKeys=[{start:2500,end:6600,isPlayed:!1},{start:7e3,end:10700,isPlayed:!1},{start:12800,end:15200,isPlayed:!1},{start:15300,end:20800,isPlayed:!1},{start:24e3,end:27200,isPlayed:!1},{start:27300,end:30600,isPlayed:!1},{start:30700,end:35e3,isPlayed:!1},{start:35100,end:40700,isPlayed:!1},{start:40800,end:42600,isPlayed:!1},{start:42601,end:44e3,isPlayed:!1},{start:44001,end:45200,isPlayed:!1},{start:45300,end:5e4,isPlayed:!1},{start:51500,end:54400,isPlayed:!1},{start:54500,end:59700,isPlayed:!1},{start:62500,end:65700,isPlayed:!1},{start:65800,end:7e4,isPlayed:!1},{start:71e3,end:75e3,isPlayed:!1},{start:78e3,end:86e3,isPlayed:!1}],t.timeScale=2,t.frameFactor=6,t.totalFrames=7612,t.totalPrgress=t.totalFrames*t.frameFactor*t.timeScale,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.init()},t.prototype.init=function(){this.scrollBar.height=this.totalPrgress+this.stage.stageHeight,this.scroller.addEventListener(eui.UIEvent.CHANGE,this.onScroll,this),this.linkBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.link,this),this.replayBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.replay,this),this.shareBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.share,this),this.mainDB.setProgress(0)},t.prototype.stop=function(){this.end.visible=!0},t.prototype.onScroll=function(){var e=this.scroller.viewport.scrollV,t=e/this.totalPrgress;this.mainDB.setProgress(t);for(var n=0;n<=this.audioKeys.length-1;n++)e>=this.audioKeys[n].start&&e<=this.audioKeys[n].end?this.audioKeys[n].isPlayed||(this.audioKeys[n].isPlayed=!0,this["audio"+(n+1)].play(0,1)):(this.audioKeys[n].isPlayed=!1,this["audio"+(n+1)].stop());e>this.totalPrgress-10&&this.stop()},t.prototype.link=function(){window.location.href="http://c.m.163.com/news/s/S1528268127950.html"},t.prototype.replay=function(){this.end.visible=!1,this.mainDB.setProgress(0),this.scroller.viewport.scrollV=0},t.prototype.share=function(){this.commonShare.show()},t}(Component);e.Home=t,__reflect(t.prototype,"app.Home")}(app||(app={}));var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function o(o){t.call(n,o,e)}if(RES.hasRes(e)){var i=RES.getRes(e);i?o(i):RES.getResAsync(e,o,this)}else RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Main=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isConfigLoadEnd=!1,t.isThemeLoadEnd=!1,t}return __extends(t,e),t.prototype.createChildren=function(){var t=this;e.prototype.createChildren.call(this),this.scaleMode=this.stage.scaleMode,this.updateScaleMode(),window.addEventListener("resize",function(){t.updateScaleMode()}),this.stage.registerImplementation("eui.IAssetAdapter",new AssetAdapter),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/");var n=new eui.Theme("resource/default.thm.json",this.stage);n.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)},t.prototype.updateScaleMode=function(){window.innerWidth<window.innerHeight?this.stage.scaleMode=this.scaleMode:0===window.orientation||180===window.orientation?this.stage.scaleMode=this.scaleMode:this.stage.scaleMode=egret.StageScaleMode.SHOW_ALL},t.prototype.onConfigComplete=function(){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),this.isConfigLoadEnd=!0,this.createScene()},t.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},t.prototype.createScene=function(){this.isConfigLoadEnd&&this.isThemeLoadEnd&&(new Router(this).replace(app.Loading),window.NewsappShare&&(window.NewsappShare.config({title:"我就不信你没听过这些声音",desc:"听完我感觉自己年轻了十岁。",imgUrl:"resource/statics/share-icon.jpg",link:"",shareDone:function(){window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData({projectid:window._ntes_ant_projectid,val_nm:"share",val_act:"sharedone",info:{modelid:window._ntes_sps_modelid,title:document.title}})}}),setTimeout(function(){window.NewsappShare.config({title:"我就不信你没听过这些声音",desc:"听完我感觉自己年轻了十岁。",imgUrl:"resource/statics/share-icon.jpg",link:"",shareDone:function(){window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData({projectid:window._ntes_ant_projectid,val_nm:"share",val_act:"sharedone",info:{modelid:window._ntes_sps_modelid,title:document.title}})}})},2e3)))},t}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var Router=function(){function e(e){var t=this;this.context=e,window.addEventListener("popstate",function(e){e.state&&t.changeScene(egret.getDefinitionByName(e.state.sceneClassName),e.state.params)},!1)}return e.prototype.push=function(e,t){window.history&&window.history.pushState({sceneClassName:egret.getQualifiedClassName(e),params:t},document.title,location.href),this.changeScene(e,t)},e.prototype.replace=function(e,t){window.history&&window.history.replaceState({sceneClassName:egret.getQualifiedClassName(e),params:t},document.title,location.href),this.changeScene(e,t)},e.prototype.changeScene=function(e,t){var n=new e(t);n.$router=this,this.context.removeChildren(),this.context.addChild(n)},e}();__reflect(Router.prototype,"Router");var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,n,o){function i(e){t.call(o,e)}function s(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),n.call(o))}"undefined"!=typeof generateEUI?egret.callLater(function(){t.call(o,generateEUI)},this):(RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_TEXT))},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var utils;!function(e){var t=function(){function e(){}return e.trackView=function(e){window.neteaseAnalysis&&window.neteaseAnalysis({type:"special",modelid:window._ntes_sps_modelid,view:e,spst:5}),window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData({projectid:window._ntes_ant_projectid,val_nm:"pageview",val_act:e}),window._hmt&&window._hmt.push(["_trackPageview",window.location.pathname.replace("index.html",e+".html")])},e.trackEvent=function(e,t){t=t||"click",window.neteaseAnalysis&&window.neteaseAnalysis({type:"func",modelid:window._ntes_sps_modelid,action:t,event:e,spst:5}),window.NTESAntAnalysis&&window.NTESAntAnalysis.sendData({projectid:window._ntes_ant_projectid,val_nm:t,val_act:e}),window._hmt&&window._hmt.push(["_trackEvent",t,e])},e}();e.Stat=t,__reflect(t.prototype,"utils.Stat")}(utils||(utils={}));